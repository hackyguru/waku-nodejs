import { proto_lightpush as proto } from "@waku/proto";
import { v4 as uuid } from "uuid";
export class PushRpc {
    proto;
    constructor(proto) {
        this.proto = proto;
    }
    static createRequest(message, pubsubTopic) {
        return new PushRpc({
            requestId: uuid(),
            request: {
                message: message,
                pubsubTopic: pubsubTopic
            },
            response: undefined
        });
    }
    static decode(bytes) {
        const res = proto.PushRpc.decode(bytes);
        return new PushRpc(res);
    }
    encode() {
        return proto.PushRpc.encode(this.proto);
    }
    get query() {
        return this.proto.request;
    }
    get response() {
        return this.proto.response;
    }
}
//# sourceMappingURL=push_rpc.js.map